# Fxxk-Wechat

![GitHub release (latest by date)](https://img.shields.io/github/v/release/yblpoi/Fxxk-Wechat)![](https://img.shields.io/github/downloads/yblpoi/Fxxk-Wechat/latest/total) 

一个简单粗暴的安卓**[Magisk](https://github.com/topjohnwu/Magisk)**模块。用于清理某个特别好用的国民级聊天软件。

我不知道为什么一个功能单一的聊天软件，应用大小有**665MB**。在我登录两天左右，用户数据达到了惊人的**2.3GB**。

查看了文件目录后，我恍然大悟。原来这玩意能把同一个东西来来回回存个好几遍。

网上的各种帖子，都是某某手机清理大师的广告之类的，其实也没有啥作用。那些清理大师不过是广告大师换个皮而已。

用魔法对付魔法，用流氓对付流氓。

**它不体面，所以我就帮他体面。**

## 前排提醒

如果您使用的是尊贵的苹果，抑或是某些不主张用户刷机的品牌的手机。建议您停止阅读，因为这个模块和您没有任何的关系。也请您不要询问怎么给您的手机使用此模块。这样会导致时间的浪费。

如果您了解安卓刷机，或者已经享受刷机带来的乐趣，那么欢迎您使用我的模块。也欢迎您**[创建议题](https://github.com/yblpoi/Fxxk-Wechat/issues)**，一起完善这个项目。

由于咱并非计算机专业，如果在代码方面有任何优化的建议，也欢迎提交PR。

## 实现功能

目前实现了以下功能：

- 通过 `service.sh`监控手机是否处于亮屏状态。本模块只会在亮屏且解锁的状态下清理文件。
- 通过**Magisk**控制模块的开关。除了第一次刷入，无需重启即可实现功能的调整。
- 每5分钟运行一次清理，内容如下：
  - 微信反复制造的缓存文件
  - 小程序缓存
  - 毫无卯月的直播数据
  - 微信获取的手机数据（包括且不限于电池、网络等等）
- 同时尽量避开了聊天数据。在本人手机上测试时，并没有误杀。
- 安装过程添加了后悔药。如果您在安装时决定放弃，可以按下**音量-**，取消安装。
- 尽可能的表达了我对这款优秀聊天软件的赞赏。

## 使用方法

具体使用方法如下：

- 备份必要的数据，数据无价。
- 安装 **[Magisk](https://github.com/topjohnwu/Magisk)**
- 在 [**Release**](https://github.com/yblpoi/Fxxk-Wechat/releases) 界面下载最新版本模块
- 打开面具刷入模块。请仔细阅读刷入前的提示。如果您决定刷入，轻轻按一下**音量+**就可以完成刷入了。
- 重启手机。
- 如果您需要配置删除的目录，配置文件位于 `/sdcard/Android/FUCK-WERCHAT.conf`
- 如果您并非第一次刷入，出于对自定义数据的保护，安装脚本会创建之前配置文件的备份。位于相同的文件夹。（这个功能存在争议，可能会删除或是在安装过程中添加选择，目前这样写只是权宜之计。具体请看更新）

## 模块文件说明

整个模块的文件结构如下

> .
> ├── customize.sh 					#安装脚本
> ├── files							#配置文件存放目录
> │   └── FUCK-WECHAT.conf
> ├── Fxxk-wechat.sh					#主要功能脚本
> ├── META-INF						#面具模块必需文件
> │   └── com
> │       └── google
> │           └── android
> │               ├── update-binary
> │               └── updater-script
> ├── module.prop						#模块信息
> ├── Run_FUCK_WECHAT.sh				#控制脚本
> └── service.sh						#服务进程脚本

### 对于配置文件目录的补充说明

在配置文件中，主要出现了以下两种目录：

- /data/media/0/
- /data/data/

其中 `/data/media/0/`等同于 `/sdcard`，也就是手机中常见的 `/storage/emulated/0/`

`/data/data/`目录则是真正藏污纳垢的地方，因为普通权限下无法访问。

## TO-DO · 下步打算

### 清理计划

体积巨大且常用的软件我都会考虑加入清理列表。

包括且不限于：

- 手机QQ
- TIM（QQ商业版）
- 企业微信

### 代码优化

包括且不限于：

- 安装过程
- 安全性
- 代码可读性

## 特别鸣谢

已经退出酷安的阿巴酱。本模块很大程度上源于对他模块的定制。是他的模块为我打开了开发的思路，解决了很多棘手的难题。本模块许多关键的部分使用的是他的源码。可惜的是我并没有找到他的项目，因此目前没法贴上链接。

## 一些垃圾话

请原谅我在README中写作文。

刷机的时代已经过去了，互联网精神的时代过去了。

但是刷机的精神、互联网开放、平等、协作、快速、共享的精神，一直激励着我完成这个模块。

现在的某些东西，满口都是仁义道德，一肚子男盗女娼。别人以顾客为上帝，他却以顾客为奴隶。

现实世界太魔幻，某些东西捧着依托答辩，让另一些东西喂给每个人吃，还洋洋得意：看，我有这么多用户！看，我挣了那么多钱！

呵呵
